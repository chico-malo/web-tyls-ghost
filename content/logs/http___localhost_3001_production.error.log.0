{"name":"Log","hostname":"4ac695e86166","pid":1,"level":50,"req":{"meta":{"requestId":"bc567cf5-5891-4b96-bf57-5d4faae4a74e","userId":null},"url":"/users/me/?include=roles","method":"GET","originalUrl":"/ghost/api/v3/admin/users/me/?include=roles","params":{},"headers":{"host":"tyls.xyz:3001","connection":"keep-alive","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"3.2","app-pragma":"no-cache","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.87 Safari/537.36","content-type":"application/json; charset=UTF-8","referer":"http://tyls.xyz:3001/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8","cookie":"**REDACTED**"},"query":{"include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"321","etag":"W/\"141-IWix7D7ygqC2cPQgVEBap04HMOo\"","vary":"Accept-Encoding"},"statusCode":403,"responseTime":"4ms"},"err":{"id":"a127a7c0-608c-11ea-9765-2366a684c357","domain":"http://localhost:3001","code":null,"name":"NoPermissionError","statusCode":403,"level":"normal","message":"Authorization failed","context":"\"Unable to determine the authenticated user or integration. Check that cookies are being passed through if using session authentication.\"","stack":"NoPermissionError: Authorization failed\n    at new NoPermissionError (/var/lib/ghost/versions/3.2.0/node_modules/ghost-ignition/lib/errors/index.js:114:23)\n    at authorizeAdminApi (/var/lib/ghost/versions/3.2.0/core/server/services/auth/authorize.js:27:25)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/layer.js:95:5)\n    at next (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/route.js:137:13)\n    at /var/lib/ghost/versions/3.2.0/core/server/services/auth/session/middleware.js:119:20\n    at session (/var/lib/ghost/versions/3.2.0/node_modules/express-session/index.js:468:7)\n    at getSession (/var/lib/ghost/versions/3.2.0/core/server/services/auth/session/middleware.js:48:12)\n    at authenticate (/var/lib/ghost/versions/3.2.0/core/server/services/auth/session/middleware.js:106:5)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/layer.js:95:5)\n    at next (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/route.js:137:13)\n    at authenticate (/var/lib/ghost/versions/3.2.0/core/server/services/auth/api-key/admin.js:40:16)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/layer.js:95:5)\n    at next (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/layer.js:95:5)\n    at /var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:281:22\n    at param (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:354:14)\n    at param (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:410:3)\n    at next (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:275:10)\n    at /var/lib/ghost/versions/3.2.0/node_modules/cors/lib/index.js:228:13\n    at handleCORS (/var/lib/ghost/versions/3.2.0/core/server/web/shared/middlewares/api/cors.js:71:16)\n    at corsMiddleware (/var/lib/ghost/versions/3.2.0/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:317:13)\n    at /var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:335:12)\n    at next (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:174:3)\n    at router (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:317:13)\n    at /var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:335:12)\n    at next (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:275:10)\n    at cacheControlHeaders (/var/lib/ghost/versions/3.2.0/core/server/web/shared/middlewares/cache-control.js:32:9)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:317:13)\n    at /var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:335:12)\n    at next (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:275:10)\n    at checkVersionMatch (/var/lib/ghost/versions/3.2.0/core/server/web/shared/middlewares/api/version-match.js:23:5)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:317:13)\n    at /var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:335:12)\n    at next (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:275:10)\n    at maintenance (/var/lib/ghost/versions/3.2.0/core/server/web/shared/middlewares/maintenance.js:18:5)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:317:13)\n    at /var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/var/lib/ghost/versions/3.2.0/node_modules/express/lib/router/index.js:335:12)"},"msg":"Authorization failed","time":"2020-03-07T15:59:30.367Z","v":0}
{"name":"Log","hostname":"4ac695e86166","pid":1,"level":50,"err":{"domain":"http://localhost:3001","code":"ETIMEDOUT","message":"Timeout awaiting 'request' for 1000ms","context":"\"Checking for updates failed, your site will continue to function.\"","help":"\"If you get this error repeatedly, please seek help from https://ghost.org/docs/.\"","stack":"TimeoutError: Timeout awaiting 'request' for 1000ms\n    at ClientRequest.request.once.error (/var/lib/ghost/versions/3.2.0/node_modules/got/source/request-as-event-emitter.js:176:14)\n    at Object.onceWrapper (events.js:286:20)\n    at ClientRequest.emit (events.js:203:15)\n    at ClientRequest.EventEmitter.emit (domain.js:448:20)\n    at ClientRequest.origin.emit.args (/var/lib/ghost/versions/3.2.0/node_modules/@szmarczak/http-timer/source/index.js:37:11)\n    at Immediate.timeoutHandler [as _onImmediate] (/var/lib/ghost/versions/3.2.0/node_modules/got/source/utils/timed-out.js:63:11)\n    at runCallback (timers.js:706:11)\n    at tryOnImmediate (timers.js:676:5)\n    at processImmediate (timers.js:658:5)\n    at process.topLevelDomainCallback (domain.js:126:23)"},"msg":"Timeout awaiting 'request' for 1000ms","time":"2020-03-07T15:59:34.451Z","v":0}
